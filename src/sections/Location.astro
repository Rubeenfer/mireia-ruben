---
import Timeline from "../components/Timeline.astro";
import { translations } from "../i18n/translations";

const { lang = "es" }: { lang?: "es" | "ca" | "en" } = Astro.props;
const t = translations[lang];

const API_KEY = import.meta.env.API_KEY;
const MAP_PARAMETERS = "q=La+Farinera+Sant+Llu%C3%ADs&maptype=roadmap&zoom=15";
const MAP_BASE_URL = "https://www.google.com/maps/embed/v1/place";
---

<section id="whenAndWhere" class="section">
  <div class="section-container">
    <div class="card">
      <h3 class="heading-3">¿Dónde?</h3>
      <div class="flex flex-col items-center justify-center gap-1">
        <p class="paragraph">Farinera de Sant Lluís</p>
        <p class="paragraph">Carrer de Sant Lluís, 17600 Figueres, Girona</p>
        <iframe
          class="w-full pt-4 shadow-lg md:aspect-square md:w-64 lg:w-80"
          referrerpolicy="no-referrer-when-downgrade"
          src=`${MAP_BASE_URL}?key=${API_KEY}&${MAP_PARAMETERS}`
          allowfullscreen
        >
        </iframe>
      </div>
    </div>
    <div class="card">
      <h2 class="heading-3">¿Cúando?</h2>
      <div class="mx-0 flex flex-col items-center justify-center gap-1">
        <p class="paragraph">La ceremonia dará comienzo a las</p>
        <p class="paragraph">13:00h el día 5 de Abril de 2025</p>

        <Timeline />
      </div>
    </div>
  </div>
</section>

<style>
  .section {
    @apply flex min-w-[100dvw] items-start justify-center;
    @apply bg-leaf dark:bg-sky;
  }

  .section-container {
    @apply container mt-32 flex flex-col justify-evenly gap-4 py-4 sm:gap-10 sm:py-10 md:flex-row md:gap-20 md:py-20 lg:gap-64;
  }
  .card {
    @apply mx-4 flex flex-col justify-between gap-10 bg-olive bg-cover bg-no-repeat p-6 shadow-lg md:mx-0;
    @apply dark:bg-dark md:w-80 md:p-10 lg:w-1/2;
  }

  .section-content {
    @apply flex flex-col items-center justify-center gap-10;
  }

  .content-1 {
    @apply flex w-full items-end justify-center gap-4;
  }

  .paragraph {
    @apply mb-0 text-pretty text-center font-light text-dark dark:text-gray-300 md:w-64 lg:w-80;
  }
</style>
