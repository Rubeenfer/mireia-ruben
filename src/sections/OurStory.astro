---
import { translations } from "../i18n/translations";
import Rings from "../icons/Rings.astro";

const { lang = "es" }: { lang?: "es" | "ca" | "en" } = Astro.props;
const t = translations[lang];
---

<section id={t.nav.ourStory.link.split("#").at(1)} class="section">
  <div class="overlay top-overlay"></div>
  <div class="section-container">
    <div class="md:w-1/3"></div>
    <div
      class="mx-4 flex w-full flex-row items-center justify-center bg-leaf p-6 dark:flex-row-reverse dark:bg-sky sm:mx-0 sm:w-3/4 sm:p-10 md:w-2/3"
    >
      <div class="flex w-full flex-col gap-10 lg:w-5/6 xl:w-1/2">
        <h2 class="heading-2 section-content">
          {t.ourStory.title}
        </h2>
        <div class="section-content">
          <p class="paragraph">
            {t.ourStory.paragraph1}
          </p>
          <p class="paragraph">
            {t.ourStory.paragraph2}
          </p>
        </div>
      </div>
      <div class="hidden items-center justify-center xl:flex xl:w-1/2">
        <Rings />
      </div>
    </div>
  </div>
  <div class="overlay bottom-overlay"></div>
</section>

<style>
  .section {
    @apply flex flex-col items-center justify-center bg-olive dark:bg-dark md:pt-20;
  }
  .overlay {
    @apply z-20 flex min-h-16 min-w-[50dvw];
  }
  .top-overlay {
    @apply -mb-16 mr-auto hidden bg-oliveOverlay md:flex;
    @apply dark:ml-auto dark:mr-0 dark:bg-nightOverlay;
  }
  .bottom-overlay {
    @apply -mt-16 mr-auto hidden bg-oliveOverlayReverse md:flex;
    @apply dark:ml-auto dark:mr-0 dark:bg-nightOverlayReverse;
  }

  .section-container {
    @apply container flex min-w-[100dvw] flex-col justify-center gap-20 py-28 md:py-20;
    @apply bg-ourStoryMobile bg-cover bg-fixed bg-center bg-no-repeat transition-all duration-300;
    @apply md:bg-ourStory md:bg-[length:40%] md:bg-local md:bg-[2%_center] lg:bg-[length:30%] xl:bg-[length:25%];
    @apply dark:bg-darkOurStoryMobile dark:md:bg-darkOurStory dark:md:bg-[98%_center];
    @apply flex-row gap-0 bg-olive dark:flex-row-reverse dark:bg-dark;
  }

  .section-content {
    @apply max-w-3xl text-pretty rounded-lg text-center;
    @apply dark:lg:mx-auto;
  }

  .paragraph {
    @apply mb-4 font-light text-dark dark:text-cream;
  }

  .paragraph:last-child {
    @apply mb-0;
  }
</style>
